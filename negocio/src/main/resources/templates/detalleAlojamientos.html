<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Tipograf√≠a igual que en pago.html -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

  <title>Detalles del alojamiento ‚Äî Inmobiliarias Paqui</title>

  <!-- CSS general -->
  <link rel="stylesheet" href="/css/stylePaginaPrincipal.css" />
  <!-- CSS espec√≠fico de esta p√°gina -->
  <link rel="stylesheet" href="/css/styleAlojamiento.css" />
</head>

<body>
  <!-- Header accesible -->
  <header>
    <div class="container">
      <div class="logo" role="link" tabindex="0" aria-label="Ir a inicio"
           onclick="location.href='/'"
           onkeydown="if(event.key==='Enter'||event.key===' '){location.href='/';}">
        Inmobiliarias Paqui
      </div>
      <button class="btn-register" onclick="window.location.href='/register'">
        Mi cuenta
      </button>
    </div>
  </header>


  <main>
    <div class="lodging-header">
   <!-- Imagen principal aleatoria del alojamiento -->
<section class="imagen-alojamiento">
  <img id="fotoAlojamiento" alt="Imagen del alojamiento">
</section>


      <h1 id="detalleTitulo"></h1>
      <p id="detalleCiudad"></p>
      <p id="detalleTipo"></p>
      <p id="detalleCapacidad"></p>
      <p id="detalleDistancia"></p>
      <p id="detalleRating"></p>

      <div class="price-reserve">
        <p id="detallePrecio" class="price-highlight"></p>
        <button class="btn-reserve" onclick="reservar()">Reservar ahora</button>
      </div>
    </div>

    <section class="info-section">
      <h2>Informaci√≥n sobre el alojamiento</h2>
      <p id="lodgingDescription"></p>
    </section>

    <section class="comments">
      <h2>Comentarios de usuarios</h2>
      <div id="commentsList"></div>
    </section>

    <button class="btn-volver" onclick="volverInicio()">‚Üê Volver a inicio</button>
  </main>

  <!-- Footer -->
  <footer>
    ¬© 2025 Inmobiliarias Paqui
  </footer>

  <script>
    // Recuperar alojamiento del localStorage
    const selected = JSON.parse(localStorage.getItem("selectedLodging"));
    if (selected) {
      document.getElementById("detalleTitulo").textContent = selected.title;
      document.getElementById("detalleCiudad").textContent = "üìç Ciudad: " + selected.ciudad;
      document.getElementById("detalleTipo").textContent = "üè† Tipo: " + selected.type;
      document.getElementById("detalleCapacidad").textContent = "üë• Capacidad: " + selected.capacity + " personas";
      document.getElementById("detalleDistancia").textContent = "üìè Distancia al centro: " + selected.distance;
      document.getElementById("detalleRating").textContent = "‚≠ê Valoraci√≥n: " + selected.rating;
      document.getElementById("detallePrecio").textContent = selected.price + " ‚Ç¨ / noche";

      // Descripci√≥n
      document.getElementById("lodgingDescription").textContent =
        `Este ${selected.type} se encuentra en ${selected.ciudad}, a ${selected.distance} del centro. Ideal para ${selected.capacity} personas. Ofrece todas las comodidades modernas, con una valoraci√≥n media de ${selected.rating} estrellas.`;
    } else {
      document.querySelector("main").innerHTML = "<p>No se ha encontrado informaci√≥n del alojamiento.</p>";
    }

    // Reservar
    function reservar() {
      if (selected) {
        localStorage.setItem("reservaSeleccionada", JSON.stringify(selected));
        window.location.href = "/pago";
      } else {
        alert("‚ö†Ô∏è No hay alojamiento seleccionado.");
      }
    }

    // Volver al inicio
    function volverInicio() {
      window.location.href = "/";
    }

    // Comentarios
    const comentarios = [
      { nombre: "Mar√≠a G.", puntuacion: 5, texto: "Todo perfecto, muy limpio y buena ubicaci√≥n." },
      { nombre: "Carlos P.", puntuacion: 4, texto: "Buen sitio, aunque el wifi podr√≠a mejorar." },
      { nombre: "Luc√≠a D.", puntuacion: 5, texto: "La experiencia fue excelente. Repetir√≠a sin dudarlo." }
    ];

    const commentsList = document.getElementById("commentsList");
    comentarios.forEach(c => {
      const div = document.createElement("div");
      div.className = "comment";
      div.innerHTML = `<strong>${c.nombre}</strong> <span>‚≠ê ${c.puntuacion}</span> <p>${c.texto}</p>`;
      commentsList.appendChild(div);
    });
  </script>
</body>
</html>
